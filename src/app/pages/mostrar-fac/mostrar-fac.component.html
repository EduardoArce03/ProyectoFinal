


<div class="factura" id="f">
    <div class="factura-header">
      <h1>FACTURA</h1>
      <button (click)="imprimir()">Imprimir Factura</button>
    </div>
    <form action="xd" id="frm">   
    <div class="factura-info">
      <h2>Información del Cliente</h2>
      <table class="info-cliente">
        <!-- Información del cliente -->
            <tr>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Cédula</th>
                <th>Correo</th>
            </tr>
            <!-- Verificar si es el primer detalle -->
            <ng-container *ngFor="let det of detalles | async; let first = first">
                <tr *ngIf="first">
                    <td>{{ det.cabecera.persona.nombre }}</td>
                    <td>{{ det.cabecera.persona.apellido }}</td>
                    <td>{{ det.cabecera.persona.cedula }}</td>
                    <td>{{ det.cabecera.persona.correo }}</td>
                </tr>
            </ng-container>

      </table>
    </div>
    
    <div class="factura-detalle">
      <h2>Detalle de la Compra</h2>
      <table class="detalle-compra">
        <!-- Detalle de la compra -->
        <tr>
            <th>Nombre</th>
            <th>Cantidad</th>
            <th>Iva</th>
            <th>Subtotal</th>
            <th>Total</th>
        </tr>
        <tr *ngFor="let det of detalles | async">
            <td>{{ det.producto.nombre }}</td>
            <td>{{ det.cantidad }}</td>
            <td>{{ det.iva }}</td>
            <td>{{ det.subtotal }}</td>
            <td>{{ det.total }}</td>
           
        </tr>
      </table>
    </div>
    
    <div class="factura-totales">
      <h2>Totales</h2>
      <table class="totales">
        <!-- Totales -->
        <tr>
            <th>Subtotal</th>
            <th>Impuestos</th>
            <th>Total a Pagar</th>
        </tr>
        <ng-container *ngFor="let det of detalles | async; let first = first">
            <tr *ngIf="first">
                <td>{{ det.cabecera.subtotal}}</td>
                <td>{{ det.cabecera.iva}}</td>
                <td>{{ det.cabecera.total}}</td>
            </tr>
        </ng-container>
      </table>
    </div>
</form>
  </div>

  
